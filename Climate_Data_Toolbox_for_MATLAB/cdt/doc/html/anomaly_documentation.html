
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>anomaly documentation</title><meta name="generator" content="MATLAB 9.5"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-01-18"><meta name="DC.source" content="anomaly_documentation.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1><tt>anomaly</tt> documentation</h1><!--introduction--><p>The <tt>anomaly</tt> function plots line data with different colors of shading filling the area between the curve and a reference value.  This is a common way of displaying anomaly time series such as sea surface temperatures or climate indices.</p><p><a href="CDT_Contents.html">Back to Climate Data Tools Contents</a></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Syntax</a></li><li><a href="#2">Description</a></li><li><a href="#3">Example 1: Simple</a></li><li><a href="#4">Example 2: Specify shading colors and line properties</a></li><li><a href="#6">Example 3: Anomalies about a nonzero value</a></li><li><a href="#7">Example 4: Thresholding</a></li><li><a href="#8">Author Info</a></li></ul></div><h2 id="1">Syntax</h2><pre>anomaly(x,y)
anomaly(...,'thresh',thresholdValue)
anomaly(...,'top',ColorSpec)
anomaly(...,'bottom',ColorSpec)
anomaly(...,'LineProperty',LineValue)
[hlin,htop,hbot] = anomaly(...)</pre><h2 id="2">Description</h2><p><tt>anomaly(x,y)</tt> plots a black line with red filling the area between zero and line any line values above zero; blue fills the area between zero and any values below zero.</p><p><tt>anomaly(...,'thresh',thresholdValue)</tt> specifies the value(s) beyond which are shaded. By default the threshold value is zero, meaning everything above or below zero is shaded. If shading is desired relative to some value other than zero, specify that value as a scalar threshold. If shading is desired only below some lower threshold and above an upper threshold, specify the <tt>thresholdValue</tt> as a two element array (e.g., let <tt>thresholdValue</tt> be <tt>[-0.4 0.5]</tt> to shade all values less than -0.4 or greater than 0.5).</p><p><tt>anomaly(...,'topcolor',ColorSpec)</tt> specifies the top color shading, which can be described by RGB values or any of the Matlab short-hand color names (e.g., <tt>'r'</tt> or <tt>'red'</tt>).</p><p><tt>anomaly(...,'bottomcolor',ColorSpec)</tt> specifies the bottom shading color.</p><p><tt>anomaly(...,'LineProperty',LineValue)</tt> sets any line properties such as <tt>'color'</tt> or <tt>'linewidth'</tt>.</p><p><tt>[hlin,htop,hbot] = anomaly(...)</tt> returns the graphics handles of the line, top, and bottom plots, respectively.</p><h2 id="3">Example 1: Simple</h2><p>Plot this sample data:</p><pre class="codeinput">x = 1990:1/12:2000;
y = 10*sin(2*pi*x) + randn(size(x));

anomaly(x,y)
</pre><img vspace="5" hspace="5" src="anomaly_documentation_01.png" alt=""> <h2 id="4">Example 2: Specify shading colors and line properties</h2><p>Using the same x and y data as above, make the line thick, red, and dashed:</p><pre class="codeinput">figure
anomaly(x,y,<span class="string">'color'</span>,<span class="string">'r'</span>,<span class="string">'linewidth'</span>,2,<span class="string">'linestyle'</span>,<span class="string">'--'</span>)
</pre><img vspace="5" hspace="5" src="anomaly_documentation_02.png" alt=""> <p>Or have no line at all, while making the top seafoam blue and the bottom sort of orangish. Use the <a href="rgb_documentation.html"><tt>rgb</tt></a> function to get the RGB values of such colloquial color names:</p><pre class="codeinput">figure
anomaly(x,y,<span class="string">'color'</span>,<span class="string">'none'</span>,<span class="string">'top'</span>,rgb(<span class="string">'seafoam blue'</span>),<span class="keyword">...</span>
   <span class="string">'bottom'</span>,rgb(<span class="string">'orangish'</span>))
</pre><img vspace="5" hspace="5" src="anomaly_documentation_03.png" alt=""> <h2 id="6">Example 3: Anomalies about a nonzero value</h2><p>Sometimes anomalies are not relative to zero, but are relative to their mean. Perhaps you have some temperature values that fluctuate around 22 degrees:</p><pre class="codeinput">figure

anomaly(x,y+22,<span class="string">'thresh'</span>,mean(y+22))

ylabel <span class="string">'Not centered on zero!'</span>
</pre><img vspace="5" hspace="5" src="anomaly_documentation_04.png" alt=""> <h2 id="7">Example 4: Thresholding</h2><p>Only shade in the regions less than 16 or greater than 27. Use <a href="hline_documentation.html"><tt>hline</tt></a> to add a horizontal black line at the y value of 22 if you desire:</p><pre class="codeinput">figure

anomaly(x,y+22,<span class="string">'thresh'</span>,[16 27])

hline(22,<span class="string">'k--'</span>) <span class="comment">% places a horizontal line at y=22.</span>
</pre><img vspace="5" hspace="5" src="anomaly_documentation_05.png" alt=""> <h2 id="8">Author Info</h2><p>This function was written by <a href="http://www.chadagreene.com">Chad A. Greene</a> of the University of Texas Institute for Geophysics (UTIG), January 2017.</p><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2018b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% |anomaly| documentation 
% The |anomaly| function plots line data with different colors of shading filling the area
% between the curve and a reference value.  This is a common way of displaying
% anomaly time series such as sea surface temperatures or climate indices. 
% 
% <CDT_Contents.html Back to Climate Data Tools Contents>
%% Syntax
% 
%  anomaly(x,y) 
%  anomaly(...,'thresh',thresholdValue) 
%  anomaly(...,'top',ColorSpec) 
%  anomaly(...,'bottom',ColorSpec) 
%  anomaly(...,'LineProperty',LineValue) 
%  [hlin,htop,hbot] = anomaly(...) 
% 
%% Description
% 
% |anomaly(x,y)| plots a black line with red filling the area between zero and line any 
% line values above zero; blue fills the area between zero and any values below zero. 
% 
% |anomaly(...,'thresh',thresholdValue)| specifies the value(s) beyond which are shaded. 
% By default the threshold value is zero, meaning everything above or below zero is 
% shaded. If shading is desired relative to some value other than zero, specify that 
% value as a scalar threshold. If shading is desired only below some lower threshold and
% above an upper threshold, specify the |thresholdValue| as a two element array (e.g., 
% let |thresholdValue| be |[-0.4 0.5]| to shade all values less than -0.4 or greater than 0.5). 
% 
% |anomaly(...,'topcolor',ColorSpec)| specifies the top color shading, which can be described
% by RGB values or any of the Matlab short-hand color names (e.g., |'r'| or |'red'|). 
% 
% |anomaly(...,'bottomcolor',ColorSpec)| specifies the bottom shading color. 
% 
% |anomaly(...,'LineProperty',LineValue)| sets any line properties such as |'color'| or |'linewidth'|. 
% 
% |[hlin,htop,hbot] = anomaly(...)| returns the graphics handles of the line, top, and bottom plots, respectively. 
% 
%% Example 1: Simple
% Plot this sample data: 

x = 1990:1/12:2000; 
y = 10*sin(2*pi*x) + randn(size(x)); 

anomaly(x,y)

%% Example 2: Specify shading colors and line properties
% Using the same x and y data as above, make the line thick, red, and dashed: 

figure
anomaly(x,y,'color','r','linewidth',2,'linestyle','REPLACE_WITH_DASH_DASH')

%% 
% Or have no line at all, while making the top seafoam blue and the bottom sort of 
% orangish. Use the <rgb_documentation.html |rgb|> function to get the RGB values 
% of such colloquial color names: 

figure
anomaly(x,y,'color','none','top',rgb('seafoam blue'),...
   'bottom',rgb('orangish'))

%% Example 3: Anomalies about a nonzero value
% Sometimes anomalies are not relative to zero, but are relative to their mean. Perhaps you 
% have some temperature values that fluctuate around 22 degrees: 

figure 

anomaly(x,y+22,'thresh',mean(y+22))

ylabel 'Not centered on zero!'

%% Example 4: Thresholding 
% Only shade in the regions less than 16 or greater than 27. Use <hline_documentation.html 
% |hline|> to add a horizontal black line at the y value of 22 if you desire: 

figure 

anomaly(x,y+22,'thresh',[16 27])

hline(22,'kREPLACE_WITH_DASH_DASH') % places a horizontal line at y=22.

%% Author Info
% This function was written by <http://www.chadagreene.com Chad A. Greene> of the University of Texas Institute
% for Geophysics (UTIG), January 2017. 
##### SOURCE END #####
--></body></html>